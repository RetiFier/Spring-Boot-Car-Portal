<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link
      rel="stylesheet"
      type="text/css"
      th:href="@{/webjars/bootstrap/4.5.2/css/bootstrap.min.css}"
    />
    <!-- Custom site CSS styles -->
    <link
      rel="stylesheet"
      href="../public/css/styles.css"
      th:href="@{/css/styles.css}"
    />

    <!-- 
  <script src="../public/js/jquery-3.3.1.min.js" th:src="@{/js/jquery-3.3.1.min.js}"></script>
-->
    <!-- Custom site scripts  -->
    <script
      src="../public/js/blog-scripts.js"
      th:src="@{/js/blog-scripts.js}"
    ></script>
    <title>Edit Page</title>
  </head>

  <body>
    <h2>Edit Post</h2>

    <div class="container row">
      <form
        action="#"
        th:action="@{/posts/edit}"
        th:object="${post}"
        method="post"
        class="form col-md-5 col-md-offset-7"
      >
        <div class="form-group">
          <label>Title</label>
          <input type="hidden" th:field="*{id}" />
          <input type="hidden" th:field="*{author}" />
          <input
            type="text"
            th:field="*{title}"
            th:class="${#fields.hasErrors('title') ? 'form-control is-invalid' : 'form-control'}"
          />
          <div
            th:if="${#fields.hasErrors('title')}"
            th:errors="*{title}"
            class="invalid-feedback"
          ></div>
        </div>

        <div class="form-group">
          <label>Model</label>
          <input
            type="text"
            th:field="*{model}"
            th:class="${#fields.hasErrors('model') ? 'form-control is-invalid' : 'form-control'}"
          />
          <div
            th:if="${#fields.hasErrors('model')}"
            th:errors="*{model}"
            class="invalid-feedback"
          ></div>
        </div>

        <div class="form-group">
          <label>Brand</label>

          <select
            th:field="*{brand}"
            th:class="${#fields.hasErrors('brand') ? 'form-control is-invalid' : 'form-control'}"
          >
            <option th:value="'ToyoTa'" th:text="ToyoTa"></option>
            <option th:value="'Audi'" th:text="Audi"></option>
            <option th:value="'BMW'" th:text="BMW"></option>
          </select>
          <div
            th:if="${#fields.hasErrors('brand')}"
            th:errors="*{brand}"
            class="invalid-feedback"
          ></div>
        </div>

        <div class="form-group">
          <label>Engine Power</label>
          <input
            type="text"
            th:field="*{enginePower}"
            th:class="${#fields.hasErrors('enginePower') ? 'form-control is-invalid' : 'form-control'}"
          />
          <div
            th:if="${#fields.hasErrors('enginePower')}"
            th:errors="*{enginePower}"
            class="invalid-feedback"
          ></div>
        </div>

        <div class="form-group">
          <label>Color</label>
          <select
            th:field="*{color}"
            th:class="${#fields.hasErrors('color') ? 'form-control is-invalid' : 'form-control'}"
          >
            <option th:value="'Blue'" th:text="Blue"></option>
            <option th:value="'White'" th:text="White"></option>
            <option th:value="'Black'" th:text="Black"></option>
            <option th:value="'Yellow'" th:text="Yellow"></option>
            <option th:value="'Gray'" th:text="Gray"></option>
          </select>
          <div
            th:if="${#fields.hasErrors('color')}"
            th:errors="*{color}"
            class="invalid-feedback"
          ></div>
        </div>

        <div class="form-group">
          <label>Car License Plate</label>
          <input
            type="text"
            th:field="*{carLicensePlate}"
            th:class="${#fields.hasErrors('carLicensePlate') ? 'form-control is-invalid' : 'form-control'}"
          />
          <div
            th:if="${#fields.hasErrors('carLicensePlate')}"
            th:errors="*{carLicensePlate}"
            class="invalid-feedback"
          ></div>
        </div>

        <div class="form-group">
          <label>Start Price</label>
          <input
            type="number"
            min="1"
            step="any"
            th:field="*{startPrice}"
            th:class="${#fields.hasErrors('startPrice') ? 'form-control is-invalid' : 'form-control'}"
          />
          <div
            th:if="${#fields.hasErrors('startPrice')}"
            th:errors="*{startPrice}"
            class="invalid-feedback"
          ></div>
        </div>

        <!-- Post Title -->
        <div class="form-group">
          <label>Detail</label>
          <textarea
            rows="5"
            cols=""
            th:field="*{body}"
            th:class="${#fields.hasErrors('body') ? 'form-control is-invalid' : 'form-control'}"
          ></textarea>
          <div
            th:if="${#fields.hasErrors('body')}"
            th:errors="*{body}"
            class="invalid-feedback"
          ></div>
          <div
            th:if="${#fields.hasErrors('author')}"
            th:errors="*{author}"
            class="invalid-feedback"
          ></div>
        </div>

        <!-- Post Content -->
        <div class="form-group clearfix">
          <button type="submit" class="btn btn-primary float-right">
            Update Post
          </button>
        </div>
        <!-- Submit Button -->
        <div class="form-group">
          <div
            th:class="${successMessage} ? 'alert alert-success' : ''"
            th:text="${successMessage}"
          ></div>
        </div>
        <!-- Success message -->
      </form>
    </div>

    <footer></footer>
  </body>
</html>
